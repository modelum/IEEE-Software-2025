Schema running_songs:3

fset CommonFeatures { +_id: String, name: String }

root entity Artist
{
  Common { albums: ref<Album>+ } + CommonFeatures
  variation 1
  {
    startingYear: Number
  }
  variation 2
}

root entity Album
{
  Common 
  {
    tracks: ref<Track>*,
    details: aggr<Details>+,
    reviews: ref<Review as String>*,
    length: Double
  } + CommonFeatures
  Variation 1
}

root entity Track
{
  common { Rating : {score: Number, voters: Number} } + CommonFeatures
  variation 1 { genres: List<String>, length: Double }
  variation 2
}

Entity Details
{
    unitsSold: Number,
    releaseYear: Number,
    formats: List<String>,
    availability: String
}

root entity Review
{
    +_id: String,
    rank: String,
    stars: String,
    media: ref<Media as String>+
}

root entity Media
{
  Common { type: String, url: String, journalist: String } + CommonFeatures
  Variation 1
}
